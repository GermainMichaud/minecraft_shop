var k=Object.defineProperty,b=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable;var w=(e,o,t)=>o in e?k(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,u=(e,o)=>{for(var t in o||(o={}))v.call(o,t)&&w(e,t,o[t]);if(c)for(var t of c(o))f.call(o,t)&&w(e,t,o[t]);return e},y=(e,o)=>b(e,M(o));var h=(e,o)=>{var t={};for(var n in e)v.call(e,n)&&o.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&c)for(var n of c(e))o.indexOf(n)<0&&f.call(e,n)&&(t[n]=e[n]);return t};import{u as D,a as $,c as E,j as s,b as a,F as N,d as A,R as B,e as C,P as W}from"./vendor.53b2d9c5.js";const G=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&n(m)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}};G();const g=()=>D(),l=$,L=[{key:"wood_sword",name:"Wood Sword",cost:15,damage:1,integrity:1,spritePosition:{x:0,y:0}},{key:"iron_sword",name:"Iron Sword",cost:45,damage:5,integrity:3.5,spritePosition:{x:1,y:0}},{key:"silver_sword",name:"Silver Sword",cost:70,damage:12,integrity:2,spritePosition:{x:2,y:0}},{key:"diamond_sword",name:"Diamond Sword",cost:148,damage:25,integrity:9,spritePosition:{x:3,y:0}},{key:"gold_sword",name:"Gold Sword",cost:180,damage:40,integrity:1.75,spritePosition:{x:4,y:0}},{key:"wood_axe",name:"Wood Axe",cost:10,damage:1,integrity:1,spritePosition:{x:0,y:1}},{key:"iron_axe",name:"Iron Axe",cost:30,damage:1,integrity:3.5,spritePosition:{x:1,y:1}},{key:"silver_axe",name:"Silver Axe",cost:60,damage:1,integrity:2,spritePosition:{x:2,y:1}},{key:"diamond_axe",name:"Diamond Axe",cost:140,damage:1,integrity:9,spritePosition:{x:3,y:1}},{key:"gold_axe",name:"Gold Axe",cost:180,damage:1,integrity:1.75,spritePosition:{x:4,y:1}},{key:"wood_mass",name:"Wood Mass",cost:25,damage:1,integrity:1,spritePosition:{x:0,y:2}},{key:"iron_mass",name:"Iron Mass",cost:60,damage:1,integrity:3.5,spritePosition:{x:1,y:2}},{key:"silver_mass",name:"Silver Mass",cost:98,damage:1,integrity:2,spritePosition:{x:2,y:2}},{key:"diamond_mass",name:"Diamond Mass",cost:190,damage:1,integrity:9,spritePosition:{x:3,y:2}},{key:"gold_mass",name:"Gold Mass",cost:240,damage:1,integrity:1.75,spritePosition:{x:4,y:2}},{key:"wood_2hds_sword",name:"Wood 2hds Sword",cost:65,damage:1,integrity:1,spritePosition:{x:0,y:3}},{key:"iron_2hds_sword",name:"Iron 2hds Sword",cost:105,damage:1,integrity:3.5,spritePosition:{x:1,y:3}},{key:"silver_2hds_sword",name:"Silver 2hds Sword",cost:450,damage:350,integrity:2,spritePosition:{x:2,y:3}},{key:"diamond_2hds_sword",name:"Diamond 2hds Sword",cost:850,damage:135,integrity:9,spritePosition:{x:3,y:3}},{key:"gold_2hds_sword",name:"Gold 2hds Sword",cost:999,damage:160,integrity:1.75,spritePosition:{x:4,y:3}}],O={tools:[...L],wallet:1500,currentIndex:0,spritePath:"src/assets/img/sprite_tools.png",notEnoughMoney:!1},I=E({name:"shop",initialState:O,reducers:{previousTool:e=>{e.currentIndex>0&&(e.currentIndex-=1)},nextTool:e=>{e.currentIndex<e.tools.length-1&&(e.currentIndex+=1)},buyTool:e=>{if(!e.tools.length)return;const o=e.tools[e.currentIndex];if(e.wallet<o.cost){e.notEnoughMoney=!0;return}const t=e.tools.length>10?.5:1;e.wallet-=o.cost*t,e.tools.splice(e.currentIndex,1),e.currentIndex=Math.min(e.currentIndex,e.tools.length-1)},resetNotEnoughMoney:e=>{e.notEnoughMoney=!1}}}),{previousTool:R,nextTool:F,buyTool:j,resetNotEnoughMoney:Z}=I.actions,q=e=>e.shop.tools,K=e=>e.shop.currentIndex,X=e=>e.shop.wallet,S=e=>e.shop.spritePath,x=e=>e.shop.tools[e.shop.currentIndex],Y=e=>e.shop.notEnoughMoney;var z=I.reducer;const p=t=>{var n=t,{title:e}=n,o=h(n,["title"]);return s("button",y(u({},o),{children:e}))},H=()=>{const e=g();return l(x)?s(p,{title:"Buy","data-testid":"buy-button",className:"BuyButton box green text-shadow",onClick:()=>e(j())}):null};const _=t=>{var n=t,{children:e}=n,o=h(n,["children"]);return s("div",y(u({},o),{className:`box ${o.className}`,children:e}))},T=({sprite:e,width:o,height:t,position:n})=>s("div",{style:{backgroundImage:`url(${e})`,backgroundPosition:`-${n.x*o}px -${n.y*t}px`,backgroundRepeat:"no-repeat",width:`${o}px`,height:`${t}px`}}),d=80,J=()=>{const e=l(q),o=l(K),t=l(S);return s("div",{className:"list-images",style:{transform:`translateX(calc(${-o*d}px - ${d/2}px - ${o}rem))`,width:`calc(${e.length*d}px + ${e.length-1}rem)`},children:e.map(n=>s(T,{position:n.spritePosition,width:d,height:d,sprite:t},n.key))})},Q=()=>{const e=g();return l(x)?a(N,{children:[s(p,{title:"Prev",className:"CarousselButton-prev text-shadow",onClick:()=>e(R())}),s(_,{className:"Caroussel","data-testid":"caroussel",children:s("div",{className:"Caroussel__body",children:s(J,{})})}),s(p,{title:"Next",className:"CarousselButton-next text-shadow",onClick:()=>e(F())})]}):null};const P=80,U=()=>{const e=l(x),o=l(S);return s(_,{className:"ToolDetail","data-testid":"tool-detail",children:e?a(N,{children:[s("div",{className:"ToolDetail__title",children:e.name}),a("div",{className:"ToolDetail__body",children:[s(T,{position:e.spritePosition,width:P,height:P,sprite:o}),a("div",{className:"ToolDetail__body__details",children:[a("div",{className:"ToolDetail__body__details__row",children:["INTEGRITY ",s("span",{children:e.integrity})]}),a("div",{className:"ToolDetail__body__details__row",children:["DAMAGE ",a("span",{children:["+",e.damage]})]}),a("div",{className:"ToolDetail__body__details__row",children:["COST ",s("span",{children:e.cost})]})]})]})]}):s("div",{className:"ToolDetail__title",children:"There are no more tools"})})};const V=()=>{const e=l(X),o=l(Y),t=g();return a(_,{className:`Wallet yellow ${o?"nomore-money":""}`,"data-testid":"wallet",onAnimationEnd:()=>{t(Z())},children:[s("div",{className:"Wallet__title",children:"Wallet"}),s("div",{className:"Wallet__body",children:e})]})},ee=()=>s("div",{className:"App",children:a("div",{className:"container",children:[s(Q,{}),s(V,{}),s(U,{}),s(H,{})]})}),oe=()=>A({reducer:{shop:z}}),te=oe();B.render(s(C.StrictMode,{children:s(W,{store:te,children:s(ee,{})})}),document.getElementById("root"));
